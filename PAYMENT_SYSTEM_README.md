# ЁЯТ│ р╕гр╕░р╕Ър╕Ър╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щр╣Бр╕Ър╕Ър╕Др╕гр╕Ър╕зр╕Зр╕Ир╕г - SkillScout

## ЁЯОп р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф

### тЬЕ **р╕гр╕░р╕Ър╕Ър╕Бр╕▓р╕гр╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ**
1. **QR Code PromptPay** - р╕кр╕гр╣Йр╕▓р╕Зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╕Хр╕▓р╕бр╕вр╕нр╕Фр╕Кр╕│р╕гр╕░
2. **р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕кр╕ер╕┤р╕Ы** - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Вр╕нр╕Щр╣Ар╕Зр╕┤р╕Щ
3. **Escrow System** - р╣Ар╕Бр╣Зр╕Ър╣Ар╕Зр╕┤р╕Щр╣Др╕зр╣Й 15 р╕зр╕▒р╕Щ
4. **р╣Вр╕Ыр╕гр╣Вр╕бр╕Кр╕▒р╣Ир╕Щр╣Вр╕Др╣Йр╕Ф** - р╕ер╕Фр╕гр╕▓р╕Др╕▓р╣Бр╕Ър╕Ъ % р╕лр╕гр╕╖р╕н fixed
5. **Auto-fill р╕Вр╣Йр╕нр╕бр╕╣р╕е** - р╕Фр╕╢р╕Зр╕Ир╕▓р╕Б User Session

## ЁЯУЛ р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ

### **Step 1: р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕е**
- р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е User р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤ (р╕Цр╣Йр╕▓ login)
- р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б
- р╣Гр╕Кр╣Йр╣Вр╕Ыр╕гр╣Вр╕бр╕Кр╕▒р╣Ир╕Щр╣Вр╕Др╣Йр╕Ф (р╕Цр╣Йр╕▓р╕бр╕╡)
- р╣Бр╕кр╕Фр╕Зр╕кр╕гр╕╕р╕Ыр╕гр╕▓р╕Др╕▓

### **Step 2: р╣Бр╕кр╕Фр╕З QR Code**
- р╕кр╕гр╣Йр╕▓р╕З QR PromptPay р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
- р╣Бр╕кр╕Фр╕Зр╕вр╕нр╕Фр╕Кр╕│р╕гр╕░
- р╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╕кр╣Бр╕Бр╕Щр╣Бр╕ер╕░р╣Вр╕нр╕Щр╣Ар╕Зр╕┤р╕Щ

### **Step 3: р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕кр╕ер╕┤р╕Ы**
- р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕лр╕ер╕▒р╕Бр╕Рр╕▓р╕Щр╕Бр╕▓р╕гр╣Вр╕нр╕Щ
- р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Ы Cloudinary
- р╕Ър╕▒р╕Щр╕Чр╕╢р╕Б URL р╕ер╕З Database
- р╣Бр╕кр╕Фр╕З Progress Bar

### **Step 4: Success**
- р╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕кр╕│р╣Ар╕гр╣Зр╕И
- р╕нр╕Шр╕┤р╕Ър╕▓р╕вр╕гр╕░р╕Ър╕Ъ Escrow
- Auto close р╕лр╕ер╕▒р╕З 3 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡

## ЁЯФТ **Escrow System (р╕гр╕░р╕Ър╕Ър╣Ар╕Бр╣Зр╕Ър╣Ар╕Зр╕┤р╕Щр╕Др╣Йр╕▓р╕Зр╕Ир╣Ир╕▓р╕в)**

### р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:
1. **User р╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ** тЖТ р╕кр╕Цр╕▓р╕Щр╕░: `PENDING`
2. **р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕кр╕ер╕┤р╕Ы** тЖТ р╕кр╕Цр╕▓р╕Щр╕░: `COMPLETED`
3. **Admin р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ** тЖТ (р╕вр╕╖р╕Щр╕вр╕▒р╕Щ/р╕Ыр╕Пр╕┤р╣Ар╕кр╕Ш)
4. **User р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╣Ар╕Вр╣Йр╕▓р╕гр╣Ир╕зр╕б** тЖТ р╕кр╕Цр╕▓р╕Щр╕░: `CONFIRMED`
5. **р╣Вр╕нр╕Щр╣Ар╕Зр╕┤р╕Щр╣Гр╕лр╣Й Organizer** тЖТ р╕кр╕Цр╕▓р╕Щр╕░: `RELEASED`

### р╣Ар╕Зр╕╖р╣Ир╕нр╕Щр╣Др╕Вр╕Бр╕▓р╕гр╣Вр╕нр╕Щр╣Ар╕Зр╕┤р╕Щ:
- тЬЕ User р╕Бр╕Фр╕вр╕╖р╕Щр╕вр╕▒р╕Щр╣Ар╕Вр╣Йр╕▓р╕гр╣Ир╕зр╕бр╕Др╣Ир╕▓р╕вр╕кр╕│р╣Ар╕гр╣Зр╕И
- тЬЕ р╕лр╕гр╕╖р╕нр╕Ьр╣Ир╕▓р╕Щ 15 р╕зр╕▒р╕Щр╕Щр╕▒р╕Ър╕Ир╕▓р╕Бр╕зр╕▒р╕Щр╕Ир╕Ър╕Др╣Ир╕▓р╕в (р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤)

## ЁЯЫая╕П **р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З Dependencies**

```bash
# Install required packages
npm install promptpay-qr qrcode
npm install --save-dev @types/qrcode

# Restart server
npm run dev
```

## ЁЯУБ **р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕З**

### **Models**
- `src/lib/db/models/Payment.ts` - р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Бр╕▓р╕гр╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ
- `src/lib/db/models/PromoCode.ts` - р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Вр╕Ыр╕гр╣Вр╕бр╕Кр╕▒р╣Ир╕Щр╣Вр╕Др╣Йр╕Ф

### **API Endpoints**
- `POST /api/payment` - р╕кр╕гр╣Йр╕▓р╕Зр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ
- `GET /api/payment?registrationId=xxx` - р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Бр╕▓р╕гр╕Кр╕│р╕гр╕░
- `PATCH /api/payment/[id]` - р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕кр╕Цр╕▓р╕Щр╕░/р╕кр╕ер╕┤р╕Ы
- `POST /api/payment/generate-qr` - р╕кр╕гр╣Йр╕▓р╕З QR Code
- `POST /api/payment/validate-promo` - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Вр╕Ыр╕гр╣Вр╕бр╕Кр╕▒р╣Ир╕Щ

### **Components**
- `src/components/camps/BookingModal.tsx` - Modal р╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ 4 steps

## ЁЯОи **UI/UX Features**

- тЬи Gradient backgrounds
- ЁЯУК Progress bar р╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Ф
- ЁЯОп Step indicator
- ЁЯТл Smooth animations
- ЁЯУ▒ Responsive design
- ЁЯМЩ Dark mode support
- тЬЕ Success animations

## ЁЯФР **р╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в**

1. **Validate р╕Чр╕╕р╕Б input**
2. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Др╕Яр╕ер╣М** (type, size)
3. **Escrow protection** (р╣Ар╕Бр╣Зр╕Ър╣Ар╕Зр╕┤р╕Щр╣Др╕зр╣Йр╕Бр╣Ир╕нр╕Щ)
4. **Admin approval** (р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕кр╕ер╕┤р╕Ы)
5. **Auto-release** (р╕лр╕ер╕▒р╕З 15 р╕зр╕▒р╕Щ)

## ЁЯУЭ **Payment Status Flow**

```
PENDING (р╕гр╕нр╕Кр╕│р╕гр╕░)
    тЖУ
COMPLETED (р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕кр╕ер╕┤р╕Ыр╣Бр╕ер╣Йр╕з)
    тЖУ
CONFIRMED (User р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╣Ар╕Вр╣Йр╕▓р╕гр╣Ир╕зр╕б)
    тЖУ
RELEASED (р╣Вр╕нр╕Щр╣Ар╕Зр╕┤р╕Щр╣Гр╕лр╣Й Organizer р╣Бр╕ер╣Йр╕з)
```

## ЁЯОл **Promo Code Types**

### **Percentage Discount**
```json
{
  "code": "SAVE20",
  "discountType": "percentage",
  "discountValue": 20,
  "maxDiscount": 500
}
```

### **Fixed Discount**
```json
{
  "code": "FLAT100",
  "discountType": "fixed",
  "discountValue": 100
}
```

## ЁЯЪА **р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ**

1. User р╣Ар╕ер╕╖р╕нр╕Бр╕Др╣Ир╕▓р╕вр╣Бр╕ер╕░р╕Бр╕Ф "р╕кр╕бр╕▒р╕Др╕гр╣Ар╕Вр╣Йр╕▓р╕гр╣Ир╕зр╕б"
2. р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕е тЖТ р╣Гр╕Кр╣Йр╣Вр╕Ыр╕гр╣Вр╕бр╕Кр╕▒р╣Ир╕Щ (р╕Цр╣Йр╕▓р╕бр╕╡)
3. р╕Бр╕Ф "р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ" тЖТ р╣Бр╕кр╕Фр╕З QR Code
4. р╕кр╣Бр╕Бр╕Щ QR тЖТ р╣Вр╕нр╕Щр╣Ар╕Зр╕┤р╕Щ
5. р╕Бр╕Ф "р╣Вр╕нр╕Щр╣Ар╕Зр╕┤р╕Щр╣Бр╕ер╣Йр╕з" тЖТ р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕кр╕ер╕┤р╕Ы
6. р╕гр╕н Admin р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ (24 р╕Кр╕б.)
7. р╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕нр╕╡р╣Ар╕бр╕ер╕вр╕╖р╕Щр╕вр╕▒р╕Щ
8. р╣Ар╕Вр╣Йр╕▓р╕гр╣Ир╕зр╕бр╕Др╣Ир╕▓р╕в тЖТ р╕Бр╕Фр╕вр╕╖р╕Щр╕вр╕▒р╕Щ
9. р╕гр╕░р╕Ър╕Ър╣Вр╕нр╕Щр╣Ар╕Зр╕┤р╕Щр╣Гр╕лр╣Й Organizer

## тЪЩя╕П **Environment Variables**

р╕Хр╣Йр╕нр╕Зр╣Ар╕Юр╕┤р╣Ир╕бр╣Гр╕Щ `.env.local`:

```env
# Cloudinary (р╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕кр╕ер╕┤р╕Ы)
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=your_cloud_name
NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET=skillscout
```

## ЁЯОЙ **р╣Ар╕кр╕гр╣Зр╕Ир╕кр╕бр╕Ър╕╣р╕гр╕Ур╣М!**

р╕гр╕░р╕Ър╕Ър╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щр╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ:
- тЬЕ QR Code PromptPay
- тЬЕ р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕кр╕ер╕┤р╕Ы
- тЬЕ Escrow System
- тЬЕ р╣Вр╕Ыр╕гр╣Вр╕бр╕Кр╕▒р╣Ир╕Щр╣Вр╕Др╣Йр╕Ф
- тЬЕ Auto-fill User data
- тЬЕ 4-step checkout process
